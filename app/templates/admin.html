{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">üõ°Ô∏è –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</h1>

<div class="row">
    <div class="col-md-6">
        <div class="card shadow-sm mb-4">
            <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                <span class="fw-bold">–ò–Ω–≤–∞–π—Ç-–∫–æ–¥—ã</span>
                <form method="POST" style="margin:0">
                    <button type="submit" name="generate_invite" class="btn btn-light btn-sm">+ –°–æ–∑–¥–∞—Ç—å</button>
                </form>
            </div>
            <div class="card-body p-0">
                <ul class="list-group list-group-flush">
                    {% for invite in invites %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <code>{{ invite.code }}</code>
                                {% if invite.is_used %}
                                    <span class="badge bg-secondary ms-2">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω</span>
                                {% else %}
                                    <span class="badge bg-success ms-2">–°–≤–æ–±–æ–¥–µ–Ω</span>
                                {% endif %}
                            </div>
                            <form method="POST" style="margin:0" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å –∏–Ω–≤–∞–π—Ç?');">
                                <input type="hidden" name="invite_id" value="{{ invite.id }}">
                                <button type="submit" name="delete_invite" class="btn btn-sm text-danger">‚ùå</button>
                            </form>
                        </li>
                    {% else %}
                        <li class="list-group-item text-center text-muted">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω–≤–∞–π—Ç–æ–≤</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card shadow-sm mb-4">
            <div class="card-header bg-danger text-white fw-bold">–ë–∞–Ω—Ö–∞–º–º–µ—Ä</div>
            <div class="card-body">
                <form method="POST">
                    <div class="input-group mb-2">
                        <input type="text" name="login_to_ban" class="form-control" placeholder="–õ–æ–≥–∏–Ω –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è">
                        <button class="btn btn-danger" type="submit" name="ban_user">–ó–ê–ë–ê–ù–ò–¢–¨</button>
                    </div>
                </form>
                <p class="text-muted small">–ó–∞–±–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç.</p>
                
                <hr>
                
                <h5 class="h6 fw-bold mb-3">–°–ø–∏—Å–æ–∫ –∏–∑–≥–Ω–∞–Ω–Ω—ã—Ö:</h5>
                <ul class="list-group">
                    {% for b_user in banned_users %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span>üö´ {{ b_user.login }}</span>
                            <form method="POST" style="margin:0">
                                <input type="hidden" name="user_id" value="{{ b_user.id }}">
                                <button type="submit" name="unban_user" class="btn btn-sm btn-outline-success">–†–∞–∑–±–∞–Ω–∏—Ç—å</button>
                            </form>
                        </li>
                    {% else %}
                        <li class="list-group-item text-center text-muted small">–ù–∞—Ä—É—à–∏—Ç–µ–ª–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}